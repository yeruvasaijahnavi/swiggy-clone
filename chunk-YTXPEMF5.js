import{a as j}from"./chunk-7QKT2M3A.js";import{a as R}from"./chunk-PBY72EBU.js";import{$ as x,A as l,D as f,F as s,H as i,I as t,J as p,P as v,R as n,S as h,T as c,U as y,V as S,_ as b,aa as g,ba as E,ha as I,ia as O,ja as _,ka as C,la as F,p as u,ra as w,z as o}from"./chunk-6M7R3YRE.js";function D(r,d){r&1&&(i(0,"div",4),n(1," No orders found. "),t())}function N(r,d){if(r&1&&(i(0,"span"),n(1),t()),r&2){let e=d.$implicit,a=d.last;o(),S(" ",e.name," x ",e.quantity,"",a?"":", "," ")}}function T(r,d){if(r&1&&(i(0,"div",5)(1,"div",6)(2,"div",7),p(3,"img",8),i(4,"div",9)(5,"h3",10),n(6),t(),i(7,"p",11),n(8),t(),i(9,"p",12),n(10),x(11,"date"),t(),i(12,"a",13),n(13,"VIEW DETAILS"),t()()(),i(14,"div",14)(15,"p",12),n(16),x(17,"date"),t(),p(18,"i",15),t()(),p(19,"hr",16),i(20,"div",17)(21,"p",18),f(22,N,2,3,"span",19),t(),i(23,"p",20),n(24),x(25,"currency"),t()(),i(26,"div",21)(27,"button",22),n(28," REORDER "),t(),i(29,"button",22),n(30," HELP "),t()()()),r&2){let e=d.$implicit;o(3),v("alt",e.restaurantName),o(3),c(" ",e.restaurantName," "),o(2),h(e.location),o(2),y(" ORDER #",e.id," | ",g(11,8,e.date,"short")," "),o(6),c(" Ordered on ",g(17,11,e.date,"short")," "),o(6),s("ngForOf",e.items),o(2),c(" Total Paid: ",E(25,14,e.totalCost,"INR","symbol")," ")}}var Y=(()=>{class r{constructor(e,a,m){this.orderService=e,this.authService=a,this.router=m,this.orders=[]}ngOnInit(){this.authService.isLoggedIn()||(alert("You need to login first before you can view orders."),this.router.navigate(["/login"])),this.orderService.getOrders().subscribe({next:e=>{this.orders=e},error:e=>{console.error("Failed to load orders:",e)},complete:()=>{console.log("Order loading completed.")}})}static{this.\u0275fac=function(a){return new(a||r)(l(j),l(R),l(w))}}static{this.\u0275cmp=u({type:r,selectors:[["app-orders"]],standalone:!0,features:[b],decls:5,vars:2,consts:[[1,"orders-container","bg-white","border","border-gray-300","rounded-lg","p-4","w-[800px]","mx-auto"],[1,"text-xl","font-semibold","text-gray-800","mb-4"],["class","text-center text-gray-500",4,"ngIf"],["class","order mb-6",4,"ngFor","ngForOf"],[1,"text-center","text-gray-500"],[1,"order","mb-6"],[1,"flex","justify-between","items-start"],[1,"flex","items-start"],["src","https://placehold.co/100x100",1,"w-20","h-20","object-cover","rounded-lg",3,"alt"],[1,"ml-4"],[1,"text-xl","font-semibold","text-gray-800"],[1,"text-gray-500"],[1,"text-sm","text-gray-400"],["href","#",1,"text-orange-500","font-medium","mt-2","inline-block"],[1,"text-right"],[1,"fas","fa-check-circle","text-green-500","text-lg","mt-1"],[1,"my-4"],[1,"flex","justify-between","items-center"],[1,"text-gray-600"],[4,"ngFor","ngForOf"],[1,"text-gray-800","font-medium"],[1,"mt-4","flex","space-x-4"],[1,"border","border-orange-500","text-orange-500","font-medium","py-2","px-6","rounded-md"]],template:function(a,m){a&1&&(i(0,"div",0)(1,"h2",1),n(2,"Your Orders"),t(),f(3,D,2,0,"div",2)(4,T,31,18,"div",3),t()),a&2&&(o(3),s("ngIf",m.orders.length===0),o(),s("ngForOf",m.orders))},dependencies:[F,I,O,C,_]})}}return r})();export{Y as OrdersComponent};
