import{a as W}from"./chunk-XIIJXRCF.js";import{a as $}from"./chunk-F23VNRGV.js";import{a as j,b as D,e as P,g as A,i as Q}from"./chunk-MSV3T3DJ.js";import{$ as q,A as p,D as y,F as x,H as n,I as i,J as g,M as S,N as f,O as c,R as o,S as _,T as s,W as I,X as M,Y as k,_ as E,a as b,b as v,ba as R,ha as V,ia as T,ka as F,la as N,p as C,pa as O,t as m,u,y as w,z as a}from"./chunk-6M7R3YRE.js";function B(d,h){if(d&1){let t=S();n(0,"div",12)(1,"div",13)(2,"div",14)(3,"h2",15),o(4),i(),n(5,"p",16),o(6),q(7,"currency"),i(),n(8,"p",17),g(9,"i",8),o(10),i(),n(11,"p",18),o(12),i()(),n(13,"div",19),g(14,"img",20),i()(),n(15,"div",21)(16,"div",22)(17,"button",23),f("click",function(){let r=m(t).$implicit,l=c(2);return u(l.decreaseQuantity(r))}),o(18," - "),i(),n(19,"input",24),k("ngModelChange",function(r){let l=m(t).$implicit;return M(l.quantity,r)||(l.quantity=r),u(r)}),i(),n(20,"button",25),f("click",function(){let r=m(t).$implicit,l=c(2);return u(l.increaseQuantity(r))}),o(21," + "),i()(),n(22,"button",26),f("click",function(){let r=m(t).$implicit,l=c(2);return u(l.addToCart(r))}),o(23," ADD "),i()()()}if(d&2){let t=h.$implicit;a(4),s(" ",t.name," "),a(2),s(" ",R(7,7,t.price,"INR","symbol")," "),a(4),s("",t.rating," "),a(2),s(" ",t.description," "),a(2),x("src",t.imageUrl,w)("alt",t.name),a(5),I("ngModel",t.quantity)}}function U(d,h){if(d&1&&(n(0,"div",2)(1,"div",3)(2,"div",4)(3,"h2",5),o(4),i(),n(5,"div",6)(6,"p",7),g(7,"i",8),o(8),i(),n(9,"p"),o(10),i(),n(11,"p"),o(12),i()()()(),n(13,"div",9)(14,"h3",10),o(15," Recommended "),i(),y(16,B,24,11,"div",11),i()()),d&2){let t=c();a(4),_(t.restaurant.name),a(4),s("",t.restaurant.rating," "),a(2),_(t.restaurant.duration),a(2),_(t.restaurant.location),a(4),x("ngForOf",t.menuItems)}}var Z=(()=>{class d{constructor(t,e,r){this.cartService=t,this.dataService=e,this.route=r,this.menuItems=[],this.restaurant=null}ngOnInit(){this.restaurantId=Number(this.route.snapshot.paramMap.get("id")),this.menuItems=this.dataService.getMenuItems().filter(e=>e.restaurantId===this.restaurantId).map(e=>v(b({},e),{quantity:e.quantity??1}));let t=this.dataService.getRestaurants().find(e=>e.id===this.restaurantId);this.restaurant=t||null}increaseQuantity(t){t.quantity=(t.quantity||1)+1}decreaseQuantity(t){(t.quantity||1)>1&&(t.quantity=(t.quantity||1)-1)}addToCart(t){this.cartService.addToCart(v(b({},t),{quantity:t.quantity||1})),this.cartService.updateCartCount()}static{this.\u0275fac=function(e){return new(e||d)(p($),p(W),p(O))}}static{this.\u0275cmp=C({type:d,selectors:[["app-restaurant-menu"]],standalone:!0,features:[E],decls:2,vars:1,consts:[[1,"max-w-3xl","mx-auto"],["class","restaurant-menu mt-20",4,"ngIf"],[1,"restaurant-menu","mt-20"],[1,"mb-10","ml-4","rounded-3xl","p-5","rest-details"],[1,"bg-white","rounded-3xl","p-5","border"],[1,"text-2xl","font-black","mb-10"],[1,"font-semibold","text-sm"],[1,"text-md","mt-2","text-green-800"],[1,"fa-solid","fa-star","mr-1","h-1"],[1,"menu-items","grid","grid-cols-1"],[1,"text-xl","pt-4","ml-4","border-t","border-gray-300","font-bold"],["class","bg-white border-b border-gray-300 rounded-lg p-4 mb-6",4,"ngFor","ngForOf"],[1,"bg-white","border-b","border-gray-300","rounded-lg","p-4","mb-6"],[1,"flex","items-cente","font-bold"],[1,"flex-grow"],[1,"text-lg","text-gray-700"],[1,""],[1,"text-sm","mt-2","text-green-800"],[1,"mt-2","font-semibold","text-md","text-gray-500"],[1,"ml-4"],[1,"rounded-lg","w-24","h-24","object-fit",3,"src","alt"],[1,"flex","justify-between"],[1,"flex","items-center","text-green-600","justify-between","font-black","mt-4","rounded-xl","border","border-green-600"],[1,"p-2","px-4","rounded-l-xl","hover:bg-gray-200",3,"click"],["type","number",1,"w-12","text-center","quantity-display",3,"ngModelChange","ngModel"],[1,"p-2","px-4","rounded-r-xl","hover:bg-gray-200",3,"click"],[1,"mt-4","w-28","font-black","hover:bg-gray-200","text-green-600","border","border-green-600","py-2","rounded-lg",3,"click"]],template:function(e,r){e&1&&(n(0,"div",0),y(1,U,17,5,"div",1),i()),e&2&&(a(),x("ngIf",r.restaurant))},dependencies:[N,V,T,F,Q,j,A,D,P],styles:[".quantity-display[_ngcontent-%COMP%]::-webkit-outer-spin-button, .quantity-display[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}.rest-details[_ngcontent-%COMP%]{background:linear-gradient(#fff -6.71%,#ebebf2 56.19%,#dfdfe7 106.56%);padding:0 16px 16px;border-bottom-left-radius:36px;border-bottom-right-radius:36px}"]})}}return d})();export{Z as RestaurantMenuComponent};
